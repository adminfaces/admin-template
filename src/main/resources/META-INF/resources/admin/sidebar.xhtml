<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="jakarta.faces.facelets"
                xmlns:cc="http://xmlns.jcp.org/jsf/composite">


    <cc:interface>
        <cc:attribute name="collapsed" shortDescription="When true it will collapse layout sidebar." />
        <cc:attribute name="mini" shortDescription="When false it will remove sidebar-mini class from body." default="true" />
    </cc:interface>

    <cc:implementation>
        <ui:fragment rendered="#{cc.attrs.collapsed}">
            <script type="text/javascript">
                $(document).ready(function () {
                    setTimeout(function () {
                        collapseSidebar();
                    }, 180);
                });

                $(document).on("pfAjaxComplete", function () {
                	 setTimeout(function () {
                         collapseSidebar();
                     }, 180);
                 });
                    
            </script>
        </ui:fragment>

        <ui:fragment rendered="#{cc.attrs.mini}">
            <script type="text/javascript">
                $(document).ready(function () {
                    setTimeout(function () {
                        setSidebarMini();
                    }, 180);
                });
                
                $(document).on("pfAjaxComplete", function () {
               	 setTimeout(function () {
               		    setSidebarMini();
                    }, 180);
                });
            </script>
        </ui:fragment>

        <ui:fragment
            rendered="#{empty cc.attrs.collapsed or not cc.attrs.collapsed}">
            <script type="text/javascript">
                $(document).ready(function () {
                    setTimeout(function () {
                        expandSidebar();
                    }, 180);
                });
                $(document).on("pfAjaxComplete", function () {
                  	 setTimeout(function () {
                  		expandSidebar();
                       }, 180);
                });
            </script>
        </ui:fragment>

        <ui:fragment rendered="#{empty cc.attrs.mini or not cc.attrs.mini}">
            <script type="text/javascript">
                setTimeout(function () {
                    removeSidebarMini();
                }, 180);
            </script>
        </ui:fragment>
    </cc:implementation>

</ui:composition>